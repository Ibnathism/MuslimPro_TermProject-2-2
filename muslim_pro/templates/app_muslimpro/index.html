<style>
body {
  background: url("https://i.pinimg.com/564x/ad/4c/32/ad4c32e49d2dc79e1a6f1a3cd060c66d.jpg?b=t");
    background-size: 100%;

}

h1 {
  color: black;
  text-align: center;
  font-size: 40px;
  font-family: "Comic Sans MS", sans-serif;
}
h2 {
  color: black;
  text-align: center;
  font-size: 40px;
  font-family: "Comic Sans MS", sans-serif;
}
h3 {
  color: black;
  text-align: center;
  font-size: 20px;
  font-family: "Comic Sans MS", sans-serif;
}
ul {
  color: black;
  font-size: 25px;
  font-family: "Comic Sans MS", sans-serif;
}
    input {
        font-size: 15px;
        font-family: "Comic Sans MS",sans-serif;
        {#word-wrap: break-spaces;#}
        {#word-break: break-all;#}
        width: 300px;
        wrap-option: hard;
        white-space: pre-wrap;
        height: 50px;
        alignment: center;
    }
    textarea {
        alignment: center;
        font-family: "Comic Sans MS", sans-serif;
        color: black;
        background-color: white;
        font-size: 15px
    }
</style>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MuslimPro</title>
</head>
<body>
<h1>WELCOME TO MUSLIMPRO</h1>
{% comment %}
<ul>You can write any query in the url using</ul>
<ul>/sql_select/your_sql_query</ul>

<h2>Simple Queries</h2>
<ul>
    <label>
<textarea rows="4" cols="70">
SELECT NameID,Arabic,Pronunciation,Translation
    FROM NamesOfAllah;
</textarea>
    </label>
</ul>
<ul>Show 99 Names Of Allah
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/names_of_Allah/';">Click Here</button> </ul>

<ul>
    <label>
<textarea rows="4" cols="70">
SELECT dDate,Fazr,Juhr,Asr,Magrib,Isha
FROM DailyEventTracker
WHERE UserID=1;
</textarea>
    </label>
</ul>
<ul>Show namaj tracker
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/namaj_tracker/1';">Click Here</button> </ul>


<ul>
    <label>
<textarea rows="4" cols="70">
SELECT dDate,DidFastOrNot
FROM DailyEventTracker
WHERE UserID=1;
</textarea>
    </label>
</ul>
<ul>Show fast tracker
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/fast_tracker/1';">Click Here</button> </ul>


<ul>
    <label>
<textarea rows="4" cols="70">
SELECT SuraID,Name,English_Name,Meaning
FROM Sura;
</textarea>
    </label>
</ul>
<ul>Show sura list
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_sura_list/';">Click Here</button> </ul>


<ul>
    <label>
<textarea rows="4" cols="70">SELECT SuraID,Name,English_Name,Meaning
FROM Sura
WHERE Type='Meccan';
</textarea>
    </label>
</ul>
<ul>Show sura list of particular type
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_sura_of_particular_type/Meccan';">Click Here</button> </ul>

<ul>
    <label>
<textarea rows="4" cols="70">
SELECT SuraID,Name,English_Name,Meaning
FROM Sura
WHERE Popular_Or_Not=TRUE;
</textarea>
    </label>
</ul>
<ul>Show popular suras
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_popular_suras/';">Click Here</button> </ul>


<ul>
    <label>
<textarea rows="4" cols="70">
SELECT *
FROM sura
WHERE Sura.english_name LIKE 'A%'
order by suraid asc;
</textarea>
    </label>
</ul>
<ul>Show suras starting with Any specific Alphabet
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_suras_starting_with/A';">Click Here</button> </ul>



<ul>
    <label>
<textarea rows="4" cols="70">
SELECT wallpaper.arabic, wallpaper.translation
FROM wallpaper
WHERE wallpaperid=1;
</textarea>
    </label>
</ul>
<ul>Show Wallpaper Message
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_quotes/1';">Click Here</button></ul>




<h2>Complex Queries</h2>

<ul>
    <label>
<textarea rows="7" cols="70">SELECT Ayah.AyahID, Ayah.AyahText, Ayah.Pronunciation, Translation.Translated_Text
FROM Ayah, Translation
WHERE Ayah.SuraID = (SELECT SuraID
                     FROM Sura
                     WHERE English_Name = 'Al-Faatiha')
  AND Translation.SuraID = Ayah.SuraID
  and Translation.AyahID = Ayah.AyahID
  and translation.languageid = 'Bangla';
</textarea>
    </label>
</ul>
<ul>Show Sura With Pronunciation And Translation
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_sura/Al-Faatiha/Bangla';">Click Here</button> </ul>


<ul>
    <label>
<textarea rows="7" cols="70">SELECT Place.Name
FROM Place,UserTable,UserGoesToPlaces
WHERE UserTable.UserID=UserGoesToPlaces.UserId AND UserGoesToPlaces.Longitude=Place.Longitude AND
      UserGoesToPlaces.Latitude=Place.Latitude AND UserTable.UserID=1 AND Place.Type='Halal Place' AND
      ((abs(UserTable.Latitude-Place.Latitude)<=1.5 OR abs(Place.Latitude-UserTable.Latitude)<=1.5) AND
       (abs(UserTable.Longitude-Place.Longitude )<=1.5 OR abs(Place.Longitude-UserTable.Longitude )<=1.5));
</textarea>
    </label>
</ul>
<ul>Show Nearby Places(Halal Place/Mosque)
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_nearby_places/Halal Place';">Click Here</button></ul>


<ul>
    <label>
<textarea rows="7" cols="70">
SELECT Ayah.* , translation.translated_text
FROM Ayah , translation
where (((ayah.suraid = (SELECT suraid FROM juz WHERE juzid = 3) AND ayah.ayahid >=(SELECT ayahid from juz where juzid = 3)) or
       (ayah.suraid > (SELECT suraid FROM juz WHERE juzid = 3) and ayah.suraid < (SELECT suraid FROM juz WHERE juzid = 4)) or
       (ayah.suraid = (SELECT suraid from juz where juzid = 4) AND ayah.ayahid < (select ayahid from juz where juzid = 4))) )
        and ayah.suraid = translation.suraid and ayah.ayahid = translation.ayahid and translation.languageid = 'Bangla'
ORDER BY (ayah.suraid, ayah.ayahid);
</textarea>
    </label>
</ul>
<ul>Show Full Juz With Pronunciation And Translation
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_juz/3/Bangla';">Click Here</button></ul>


<ul>
    <label>
<textarea rows="7" cols="70">SELECT ayah.*
FROM Dua,ayah,dua_ayah_relation
WHERE dua.DuaID=dua_ayah_relation.DuaID AND dua_ayah_relation.SuraID=ayah.SuraID AND dua_ayah_relation.AyahID=ayah.AyahID
      AND dua.category='Morning And Evening' AND dua.dua_name='When Waking Up' AND dua.dua_type='Ayah';

</textarea>
    </label>
</ul>
<ul>Show Dua
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/show_dua/Morning And Evening/When Waking Up/Ayah/Bangla';">Click Here</button></ul>


<ul>
    <label>
<textarea rows="7" cols="70">SELECT Place.Name,place.type
FROM Place,
     UserTable,
     UserGoesToPlaces
WHERE UserTable.UserID = UserGoesToPlaces.UserId
  AND UserGoesToPlaces.Longitude = Place.Longitude
  AND UserGoesToPlaces.Latitude = Place.Latitude
  AND UserTable.UserID = 1
  AND ((abs(UserTable.Latitude - Place.Latitude) <= 10 OR abs(Place.Latitude - UserTable.Latitude) <= 10) AND
       (abs(UserTable.Longitude - Place.Longitude) <= 10 OR abs(Place.Longitude - UserTable.Longitude) <= 10));
</textarea>
    </label>
</ul>
<ul>Any Nearby Place
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/any_nearby_place/1';">Click Here</button></ul>{% endcomment %}

{% comment %}
<h2>Procedures Or Functions</h2>
<ul>Next Namaj
    <button onclick="window.location.href = 'http://127.0.0.1:8000/muslimpro/next_namaj';">Click Here</button></ul>
<ul></ul>

<h2>
    Triggers
</h2>{% endcomment %}
<u1></u1>




<h2>Simple Queries</h2>

<h3>1.Total Suras with their Arabic names,English names,meanings.</h3>

<label>
<textarea rows="5" cols="50">
    SELECT SuraID,Name,English_Name,Meaning
    FROM Sura;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT SuraID,Name,English_Name,Meaning FROM Sura;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>2.Origin of the sura</h3>

<label>
<textarea rows="5" cols="50">SELECT SuraID,Name,English_Name,Meaning
FROM Sura
WHERE Type=type_of_the_sura;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT SuraID,Name,English_Name,Meaning FROM Sura WHERE Type='Meccan';">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>



<h3>3.Popular Sura</h3>

<label>
<textarea rows="5" cols="50">SELECT SuraID,Name,English_Name,Meaning
FROM Sura
WHERE Popular_Or_Not=TRUE/FALSE;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT SuraID,Name,English_Name,Meaning FROM Sura WHERE Popular_Or_Not=TRUE;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>




<h3>4.Searching Suras with the first alphabet of their names.</h3>

<label>
<textarea rows="5" cols="50">SELECT *
FROM sura
WHERE Sura.english_name LIKE 'A%'
order by suraid asc;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT * FROM sura WHERE Sura.english_name LIKE 'A%' order by suraid asc;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>




<h3>5.Pronunciation of a particular ayah.</h3>

<label>
<textarea rows="5" cols="50">SELECT pronunciation
FROM ayah
WHERE suraid=1 AND ayahid=6;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT pronunciation FROM ayah WHERE suraid=1 AND ayahid=6;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>


<h3>6.5 times prayer times</h3>

<label>
<textarea rows="5" cols="50">SELECT Name,StartTime
from DailyNamajTime
WHERE Date='2019-02-14';
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT Name,StartTime from DailyNamajTime WHERE Date='2019-02-14';">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>7.Namaj Tracker(Searching by userID)</h3>

<label>
<textarea rows="5" cols="50">SELECT dDate,Fazr,Juhr,Asr,Magrib,Isha
FROM DailyEventTracker
WHERE UserID=1;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT dDate,Fazr,Juhr,Asr,Magrib,Isha FROM DailyEventTracker WHERE UserID=1;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>8.Fast Tracker</h3>

<label>
<textarea rows="5" cols="50">SELECT dDate,DidFastOrNot
FROM DailyEventTracker
WHERE UserID=1;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT dDate,DidFastOrNot FROM DailyEventTracker WHERE UserID=1;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>9.Hadith with Arabic and Translation</h3>

<label>
<textarea rows="5" cols="50">SELECT hadithid,arabictext,translation
FROM hadithverse
ORDER BY hadithid;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT hadithid,arabictext,translation FROM hadithverse ORDER BY hadithid;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>10.Particular Hadith books with Arabic</h3>

<label>
<textarea rows="5" cols="50">SELECT arabictext,translation
from hadithverse
where source like 'Bulugh al-Maram%';
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT arabictext,translation from hadithverse where source like 'Bulugh al-Maram%';">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>11.Finding the source of a hadith</h3>

<label>
<textarea rows="5" cols="50">SELECT source
FROM hadithverse
WHERE hadithid=40000;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT source FROM hadithverse WHERE hadithid=40000;">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>12.99 names of Allah(SWT)</h3>

<label>
<textarea rows="5" cols="50">SELECT NameID,Arabic,Pronunciation,Translation
FROM NamesOfAllah;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT NameID,Arabic,Pronunciation,Translation FROM NamesOfAllah;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>13.Duas</h3>

<label>
<textarea rows="5" cols="50">SELECT dua_name,category
FROM dua
GROUP BY dua_name,category
ORDER BY dua_name;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT dua_name,category FROM dua GROUP BY dua_name,category ORDER BY dua_name;">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>14.Wallpaper messages</h3>

<label>
<textarea rows="5" cols="50">SELECT wallpaper.arabic, wallpaper.translation
FROM wallpaper
WHERE wallpaperid=1;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT wallpaper.arabic, wallpaper.translation FROM wallpaper WHERE wallpaperid=1;">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>



<h2>Complex Queries</h2>

<h3>1.Full Sura with Arabic,translation,pronunciation searched by name.</h3>

<label>
<textarea rows="5" cols="50">SELECT Ayah.AyahID, Ayah.AyahText, Ayah.Pronunciation, Translation.Translated_Text
FROM Ayah,
 	Translation
WHERE Ayah.SuraID = (SELECT SuraID
                 	FROM Sura
                 	WHERE English_Name = 'Al-Faatiha')
  AND Translation.SuraID = Ayah.SuraID
  and Translation.AyahID = Ayah.AyahID
  and translation.languageid = 'Bangla';
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT Ayah.AyahID, Ayah.AyahText, Ayah.Pronunciation, Translation.Translated_Text FROM Ayah, Translation WHERE Ayah.SuraID = (SELECT SuraID FROM Sura WHERE English_Name = 'Al-Faatiha') AND Translation.SuraID = Ayah.SuraID and Translation.AyahID = Ayah.AyahID and translation.languageid = 'Bangla';">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>2.Juz with Arabic,pronunciation,translation</h3>

<label>
<textarea rows="5" cols="50">SELECT Ayah.* , translation.translated_text
FROM Ayah , translation
where (((ayah.suraid = (SELECT suraid FROM juz WHERE juzid = 3) AND ayah.ayahid >=(SELECT ayahid from juz where juzid = 3)) or
   	(ayah.suraid > (SELECT suraid FROM juz WHERE juzid = 3) and ayah.suraid < (SELECT suraid FROM juz WHERE juzid = 4)) or
   	(ayah.suraid = (SELECT suraid from juz where juzid = 4) AND ayah.ayahid < (select ayahid from juz where juzid = 4))) )
    	and ayah.suraid = translation.suraid and ayah.ayahid = translation.ayahid and translation.languageid = 'Bangla'
ORDER BY (ayah.suraid, ayah.ayahid);
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT Ayah.* , translation.translated_text FROM Ayah , translation where (((ayah.suraid = (SELECT suraid FROM juz WHERE juzid = 3) AND ayah.ayahid >=(SELECT ayahid from juz where juzid = 3)) or (ayah.suraid > (SELECT suraid FROM juz WHERE juzid = 3) and ayah.suraid < (SELECT suraid FROM juz WHERE juzid = 4)) or (ayah.suraid = (SELECT suraid from juz where juzid = 4) AND ayah.ayahid < (select ayahid from juz where juzid = 4))) ) and ayah.suraid = translation.suraid and ayah.ayahid = translation.ayahid and translation.languageid = 'Bangla' ORDER BY (ayah.suraid, ayah.ayahid);">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>2.Juz No 30 with Arabic,pronunciation,translation</h3>

<label>
<textarea rows="5" cols="50">SELECT Ayah.* , translation.translated_text
FROM Ayah , translation
where (((ayah.suraid = (SELECT suraid FROM juz WHERE juzid = 30) AND ayah.ayahid >=(SELECT ayahid from juz where juzid = 30)) or
   	(ayah.suraid > (SELECT suraid FROM juz WHERE juzid = 30)))and ayah.suraid = translation.suraid and ayah.ayahid = translation.ayahid and translation.languageid = 'Bangla')
ORDER BY (ayah.suraid, ayah.ayahid);
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT Ayah.* , translation.translated_text FROM Ayah , translation where (((ayah.suraid = (SELECT suraid FROM juz WHERE juzid = 30) AND ayah.ayahid >=(SELECT ayahid from juz where juzid = 30)) or (ayah.suraid > (SELECT suraid FROM juz WHERE juzid = 30)))and ayah.suraid = translation.suraid and ayah.ayahid = translation.ayahid and translation.languageid = 'Bangla') ORDER BY (ayah.suraid, ayah.ayahid);">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>3.Translation of an ayah in selected language.</h3>

<label>
<textarea rows="5" cols="50">SELECT translated_text
    FROM ayah,translation
    WHERE ayah.suraid=1 AND ayah.ayahid=6 AND ayah.suraid=translation.suraid
    AND ayah.ayahid=translation.ayahid AND translation.name_of_translator='Muhiuddin Khan'
    AND translation.languageid='Bangla';
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT translated_text FROM ayah,translation WHERE ayah.suraid=1 AND ayah.ayahid=6 AND ayah.suraid=translation.suraid AND ayah.ayahid=translation.ayahid AND translation.name_of_translator='Muhiuddin Khan' AND translation.languageid='Bangla';">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>4.Translation of a Sura in selected language.</h3>

<label>
<textarea rows="5" cols="50">SELECT translated_text
FROM ayah,translation
WHERE ayah.suraid=1 AND ayah.suraid=translation.suraid AND ayah.ayahid=translation.ayahid
AND translation.name_of_translator='Muhiuddin Khan' AND translation.languageid='Bangla';
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT translated_text FROM ayah,translation WHERE ayah.suraid=1 AND ayah.suraid=translation.suraid AND ayah.ayahid=translation.ayahid AND translation.name_of_translator='Muhiuddin Khan' AND translation.languageid='Bangla';">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>5.Dua from Quran.</h3>

<label>
<textarea rows="5" cols="50">SELECT ayah.*, translation.translated_text
FROM Dua,
 	ayah,
 	dua_ayah_relation,
 	translation
WHERE dua.DuaID = dua_ayah_relation.DuaID
  AND dua_ayah_relation.SuraID = ayah.SuraID
  AND dua_ayah_relation.AyahID = ayah.AyahID
  AND dua.category = 'Morning And Evening'
  AND dua.dua_name = 'When Waking Up'
  AND dua.dua_type = 'Ayah'
  AND translation.suraid = ayah.suraid
  AND translation.ayahid = ayah.ayahid
  AND translation.languageid = 'Bangla'
  AND translation.name_of_translator = 'Muhiuddin Khan';
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT ayah.*, translation.translated_text FROM Dua, ayah, dua_ayah_relation, translation WHERE dua.DuaID = dua_ayah_relation.DuaID AND dua_ayah_relation.SuraID = ayah.SuraID AND dua_ayah_relation.AyahID = ayah.AyahID AND dua.category = 'Morning And Evening' AND dua.dua_name = 'When Waking Up' AND dua.dua_type = 'Ayah' AND translation.suraid = ayah.suraid AND translation.ayahid = ayah.ayahid AND translation.languageid = 'Bangla' AND translation.name_of_translator = 'Muhiuddin Khan';">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>6.Dua from Hadith.</h3>

<label>
<textarea rows="5" cols="50">SELECT hadithverse.*
FROM Dua,HadithVerse, dua_hadith_relation
WHERE dua.DuaID = dua_hadith_relation.DuaID
  AND dua_hadith_relation.HadithID = HadithVerse.HadithID
  AND dua.category = 'Demo1'
  AND dua.dua_name = 'HadithDua1'
  AND dua.dua_type = 'Hadith';
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT hadithverse.* FROM Dua,HadithVerse, dua_hadith_relation WHERE dua.DuaID = dua_hadith_relation.DuaID AND dua_hadith_relation.HadithID = HadithVerse.HadithID AND dua.category = 'Demo1' AND dua.dua_name = 'HadithDua1' AND dua.dua_type = 'Hadith';">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>7.Playing adhan.</h3>

<label>
<textarea rows="5" cols="50">SELECT adhan.audiopath
FROM adhan,dailynamajadhanrelation,dailynamajtime
WHERE adhan.adhanid=dailynamajadhanrelation.adhanid AND dailynamajadhanrelation.name=dailynamajtime.name AND
  	adhan.adhanid=1 AND adhan.info='Adhan(Madina) Fajr' AND dailynamajtime.name='Juhr' AND to_char(dailynamajtime.starttime,'HH12:MI:SS')=to_char(now()::Time, 'HH12:MI:SS');
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT adhan.audiopath FROM adhan,dailynamajadhanrelation,dailynamajtime WHERE adhan.adhanid=dailynamajadhanrelation.adhanid AND dailynamajadhanrelation.name=dailynamajtime.name AND adhan.adhanid=1 AND adhan.info='Adhan(Madina) Fajr' AND dailynamajtime.name='Juhr' AND to_char(dailynamajtime.starttime,'HH12:MI:SS')=to_char(now()::Time, 'HH12:MI:SS');">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>8.All nearby places of an user.</h3>

<label>
<textarea rows="5" cols="50">SELECT Place.Name,place.type
FROM Place,
 	UserTable,
 	UserGoesToPlaces
WHERE UserTable.UserID = UserGoesToPlaces.UserId
  AND UserGoesToPlaces.Longitude = Place.Longitude
  AND UserGoesToPlaces.Latitude = Place.Latitude
  AND UserTable.UserID = 1
  AND ((abs(UserTable.Latitude - Place.Latitude) <= 10 OR abs(Place.Latitude - UserTable.Latitude) <= 10) AND
   	(abs(UserTable.Longitude - Place.Longitude) <= 10 OR abs(Place.Longitude - UserTable.Longitude) <= 10));
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT Place.Name,place.type FROM Place, UserTable, UserGoesToPlaces WHERE UserTable.UserID = UserGoesToPlaces.UserId AND UserGoesToPlaces.Longitude = Place.Longitude AND UserGoesToPlaces.Latitude = Place.Latitude AND UserTable.UserID = 1 AND ((abs(UserTable.Latitude - Place.Latitude) <= 10 OR abs(Place.Latitude - UserTable.Latitude) <= 10) AND (abs(UserTable.Longitude - Place.Longitude) <= 10 OR abs(Place.Longitude - UserTable.Longitude) <= 10));">
                    </label>
                    <input type="submit" value="Run Query"/><br>
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>9.Nearby Halal Places</h3>

<label>
<textarea rows="5" cols="50">SELECT Place.Name
FROM Place,UserTable,UserGoesToPlaces
WHERE UserTable.UserID=UserGoesToPlaces.UserId AND UserGoesToPlaces.Longitude=Place.Longitude AND
  	UserGoesToPlaces.Latitude=Place.Latitude AND UserTable.UserID=1 AND Place.Type='Halal Place' AND
  	((abs(UserTable.Latitude-Place.Latitude)<=1.5 OR abs(Place.Latitude-UserTable.Latitude)<=1.5) AND
   	(abs(UserTable.Longitude-Place.Longitude )<=1.5 OR abs(Place.Longitude-UserTable.Longitude )<=1.5));
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT Place.Name FROM Place,UserTable,UserGoesToPlaces WHERE UserTable.UserID=UserGoesToPlaces.UserId AND UserGoesToPlaces.Longitude=Place.Longitude AND UserGoesToPlaces.Latitude=Place.Latitude AND UserTable.UserID=1 AND Place.Type='Halal Place' AND ((abs(UserTable.Latitude-Place.Latitude)<=1.5 OR abs(Place.Latitude-UserTable.Latitude)<=1.5) AND (abs(UserTable.Longitude-Place.Longitude )<=1.5 OR abs(Place.Longitude-UserTable.Longitude )<=1.5));">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>


<h3>10.Nearby Mosques.</h3>

<label>
<textarea rows="5" cols="50">SELECT Place.Name
FROM Place,UserTable,UserGoesToPlaces
WHERE UserTable.UserID=UserGoesToPlaces.UserId AND UserGoesToPlaces.Longitude=Place.Longitude AND
  	UserGoesToPlaces.Latitude=Place.Latitude AND UserTable.UserID=1 AND Place.Type='Mosque' AND
  	((abs(UserTable.Latitude-Place.Latitude)<=1.5 OR abs(Place.Latitude-UserTable.Latitude)<=1.5) AND
   	(abs(UserTable.Longitude-Place.Longitude )<=1.5 OR abs(Place.Longitude-UserTable.Longitude )<=1.5));
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT Place.Name FROM Place,UserTable,UserGoesToPlaces WHERE UserTable.UserID=UserGoesToPlaces.UserId AND UserGoesToPlaces.Longitude=Place.Longitude AND UserGoesToPlaces.Latitude=Place.Latitude AND UserTable.UserID=1 AND Place.Type='Mosque' AND ((abs(UserTable.Latitude-Place.Latitude)<=1.5 OR abs(Place.Latitude-UserTable.Latitude)<=1.5) AND (abs(UserTable.Longitude-Place.Longitude )<=1.5 OR abs(Place.Longitude-UserTable.Longitude )<=1.5)); ">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>


<h3>11.Finding the dates of an user’s particular prayer</h3>

<label>
<textarea rows="5" cols="50">SELECT ddate
FROM dailyeventtracker,usertable
WHERE dailyeventtracker.userid=usertable.userid AND dailyeventtracker.fazr=TRUE;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT ddate FROM dailyeventtracker,usertable WHERE dailyeventtracker.userid=usertable.userid AND dailyeventtracker.fazr=TRUE;">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>


<h3>12.Namaj tracker searched by user’s name.</h3>

<label>
<textarea rows="5" cols="50">SELECT ddate,fazr,juhr,asr,magrib,isha
FROM dailyeventtracker,usertable
WHERE dailyeventtracker.userid=usertable.userid AND usertable.name='Adiba';
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value=" SELECT ddate,fazr,juhr,asr,magrib,isha FROM dailyeventtracker,usertable WHERE dailyeventtracker.userid=usertable.userid AND usertable.name='Adiba';">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h2>Procedures and functions</h2>

<h3>1.Add a dua in dua table and dua_ayah_relation table</h3>

<label>
<textarea rows="5" cols="50">CREATE OR REPLACE function func_add_ayah_dua(dID INTEGER, dNAME VARCHAR(100), dCAT VARCHAR(100), sID INTEGER, aID INTEGER, type VARCHAR(100)) returns varchar(1000)
  LANGUAGE plpgsql
AS
$$
BEGIN
  IF (sID IN (SELECT SuraID FROM Ayah) AND aID IN (SELECT AyahID FROM Ayah WHERE SuraID = sID)) THEN
    INSERT INTO Dua
    VALUES (dID, dNAME, dCAT, type);

    INSERT INTO Dua_Ayah_Relation
    VALUES (dID, sID, aID);

  ELSE
    RAISE NOTICE 'PLEASE CHECK SURA ID AND AYAH ID';
  END IF;
  return 'Dua added in dua table and dua_ayah_relation table';
END;
$$;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT func_add_ayah_dua(1003, 'dua1', 'category1', 3, 2, 'Ayah');">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>2.Add a Hadith_type in dua table and dua_hadith_relation table</h3>

<label>
<textarea rows="5" cols="50">
CREATE OR REPLACE function func_add_hadith_dua(dID INTEGER, dNAME VARCHAR(100), dCAT VARCHAR(100), hID INTEGER, type VARCHAR(100)) returns varchar(1000)
  LANGUAGE plpgsql
AS
$$
BEGIN
  IF (hID IN (SELECT HadithID FROM HadithVerse)) THEN
    INSERT INTO Dua
    VALUES (dID, dNAME, dCAT, type);

    INSERT INTO Dua_Hadith_Relation
    VALUES (dID, hID);

  ELSE
    RAISE NOTICE 'PLEASE CHECK HADITH ID';
  END IF;
  return 'Hadith type dua added in dua and hadith_ayah_relation';
END;
$$;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="select func_add_hadith_dua(2002, 'dua2', 'category2', 6, 'Hadith');">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>


<h3>TESTING WHETHER FUNCTION WORKS</h3>

<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value=" SELECT * from dua">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>


<h3>3. count suras of a particular type</h3>

<label>
<textarea rows="5" cols="50">

CREATE OR REPLACE FUNCTION SuraOfType(hi VARCHAR(100))RETURNS INTEGER
AS $$
 DECLARE
   R INTEGER;

   BEGIN

   SELECT COUNT(*) INTO R
   FROM sura
   WHERE sura.type =hi;
 RETURN R;
  END;
$$ LANGUAGE plpgsql;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT SuraOfType('Meccan');">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>



<h2>Triggers</h2>

<h3>1. TRIGGER trig_trac_user AFTER INSERT ON usertable</h3>

<label>
<textarea rows="5" cols="50">CREATE TRIGGER trig_trac_user
  AFTER INSERT
  ON usertable
  FOR EACH ROW
  EXECUTE PROCEDURE trac_info();

    CREATE OR REPLACE FUNCTION trac_info()
  RETURNS trigger AS
$$
BEGIN
         INSERT INTO dailyeventtracker(ddate, userid, didfastornot, fazr, juhr, asr, magrib, isha)
         VALUES(CURRENT_DATE, new.userid, false, false, false, false, false, false);

    RETURN NEW;
END;
$$
LANGUAGE 'plpgsql';
</textarea>
</label>
<h3>
    Inserting into Usertable.
    The trigger will add a row in the dailyeventtracker for the user.
</h3>
<label>
<textarea rows="5" cols="50">
    CREATE OR REPLACE function insert_in_usertable(id NUMERIC, uname VARCHAR(100)) returns varchar(1000)
  LANGUAGE plpgsql
AS
$$
BEGIN
  INSERT into usertable(userid, email, password, name, longitude, latitude, address, selectedfont, selectedtranslationlanguage)
  values (id, 'default@gmail.com', 'qwe', uname, 91, 34,'farmgate', 'Consolas', 'Bangla');
  return 'User added in user table';
END;
$$;

</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT insert_in_usertable(104, 'turza');">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>Testing whether the trigger worked</h3>

<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT * from dailyeventtracker ">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>



<h3>2.TRIGGER trig_hadith_dua AFTER update or insert ON dua_hadith_relation</h3>

<label>
<textarea rows="5" cols="50">
CREATE TRIGGER trig_hadith_dua
  AFTER update or insert
  ON dua_hadith_relation
  FOR EACH ROW
  EXECUTE PROCEDURE trig_dua();

CREATE OR REPLACE FUNCTION trig_dua()
  RETURNS trigger AS
$$
BEGIN
    UPDATE dua
      set dua_type = 'Hadith'
      where duaid=new.duaid;

    delete from dua_ayah_relation
      where dua_ayah_relation.duaid = new.duaid;

    RETURN NEW;
END;
$$
LANGUAGE 'plpgsql';
</textarea>
</label>

<h3>
    This assigns the dua type ‘Hadith’ in dua table.
</h3>
<label>
<textarea rows="5" cols="50">
CREATE OR REPLACE function update_in_dua_hadith_relation(id NUMERIC, hid NUMERIC) returns varchar(1000)
  LANGUAGE plpgsql
AS
$$
BEGIN
  update dua_hadith_relation
  set hadithid = hid
  where duaid = id;

  return 'Dua Added';
END;
$$;
</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="select update_in_dua_hadith_relation(7, 75);">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>Testing whether the trigger worked</h3>




<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT * from dua ">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>




<h3>3. TRIGGER trig_place before insert ON usergoestoplaces</h3>

<label>
<textarea rows="5" cols="50">
CREATE TRIGGER trig_place
  before insert
  ON usergoestoplaces
  FOR EACH ROW
  EXECUTE PROCEDURE after_place_insert();

    CREATE OR REPLACE FUNCTION after_place_insert()
  RETURNS trigger AS
$$
BEGIN
    insert into place(longitude, latitude, name, type) VALUES (new.longitude, new.latitude, 'place1', 'Halal Place');


    RETURN NEW;
END;
$$
LANGUAGE 'plpgsql';
</textarea>
</label>

<h3>This updates place table if user goes to a new place.
</h3>
<label>
<textarea rows="5" cols="50">
    CREATE OR REPLACE function insert_in_usergoestoplace(id NUMERIC, longId NUMERIC, latID NUMERIC) returns varchar(1000)
  LANGUAGE plpgsql
AS
$$
BEGIN
  insert into usergoestoplaces(userid, longitude, latitude) VALUES (id, longId, latID);
  return 'updated';
END;
$$;

</textarea>
</label>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="Select insert_in_usergoestoplace(109, 85, 56);">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>

<h3>Testing whether the trigger worked</h3>
<form method="POST" role="form" action="" onkeypress="return event.keyCode !== 13">

{% csrf_token %}
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="step1">
            <div class="mobile-grids">
                <div class="mobile-left text-center"></div>
                <div class="mobile-right">
                    <label>
                        <input type="text" name="sql_string" aria-multiline="true" value="SELECT * from place ">
                    </label>
                    <input type="submit" value="Run Query"/><br>

                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
</form>








</body>
</html>
